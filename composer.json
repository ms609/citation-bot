{
    "name": "ms609/citation-bot",
    "license": "GPL-3.0-or-later",
    "description": "Expands CS1/CS2 citation templates on Wikipedia",
    "config": {
        "allow-plugins": {
            "third-party/required-plugin": true,
            "dealerdirect/phpcodesniffer-composer-installer": true
        },
        "prefer-stable": true,
        "minimum-stability": "dev",
        "preferred-install": "dist"
    },
    "require": {
        "mediawiki/oauthclient": "2.3.0",
        "php": ">=8.4"
    },
    "require-dev": {
        "brianium/paratest": "^7",
        "designsecurity/progpilot": "^1",
        "mediawiki/mediawiki-codesniffer": "^49.0.0",
        "overtrue/phplint": "^9",
        "phan/phan": "^6",
        "phpstan/phpstan": "^2.1.32",
        "phpunit/php-invoker": "^6",
        "phpunit/phpunit": "^12",
        "vimeo/psalm": "^6"
    },
    "scripts": {
        "coverage-report": "php -d memory_limit=1G vendor/bin/phpunit --enforce-time-limit --default-time-limit 13000 --coverage-html coverage",
        "phan": "php -d memory_limit=1G vendor/bin/phan --analyze-twice --allow-polyfill-parser",
        "phpcbf": "phpcbf -p -d memory_limit=1G --warning-severity=0",
        "phpcs": "phpcs -p -s -d memory_limit=1G --warning-severity=0",
        "phplint": "php -d memory_limit=1G vendor/bin/phplint --exclude=vendor --no-interaction -vv ./",
        "phpstan": "phpstan --no-interaction analyse --memory-limit=2G src/*.php src/*/*.php src/*/*/*.php",
        "progpilot": "php -d memory_limit=1G vendor/bin/progpilot --configuration progpilot.yml src/*.php src/*/*.php src/*/*/*.php tests/*.php tests/*/*.php tests/*/*/*.php tests/*/*/*/*.php",
        "psalm": "PSALM_ALLOW_XDEBUG=1 php ./vendor/bin/psalm --memory-limit=4G --show-info=true",
        "psalm-taint": "PSALM_ALLOW_XDEBUG=1 php ./vendor/bin/psalm --taint-analysis --memory-limit=4G",
        "test": "php -d memory_limit=1G vendor/bin/paratest --processes=auto --runner=WrapperRunner --enforce-time-limit --default-time-limit=60000 --cache-directory=.phpunit.cache --coverage-clover=coverage.xml --log-junit=junit.xml --verbose 1>&2; TEST_EXIT=$?; sync; sync; php -d memory_limit=1G tests/parse_junit.php; sync; exit $TEST_EXIT"
    }
}
