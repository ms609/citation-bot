<?php
declare(strict_types=1);
const TEMPLATES_WE_PROCESS = array('citation', 'cite arxiv', 'cite book', 'cite books', 'cite document', 
                             'cite encyclopaedia', 'cite encyclopedia', 'cite journal', 'cite web', 'cite work',
                             'cite paper', 'cite', 'citebook', 'citejournal', 'citeweb', 'cite url', 'citepaper', 'citation journal',
                             'cite publication', 'cite citeseerx', 'cite website', 'cite dictionary', 'cite chapter', 'web cite', 'book cite',
                             'book reference', 'cit web', 'cit book', 'cite-book', 'cite-web', 'cit journal', 'cit news',
                             'web reference');
const TEMPLATES_WE_SLIGHTLY_PROCESS = array('cite news', 'cite newspaper', 'cite conference', 'cite article', 'citenews', 'cite new');
const TEMPLATES_WE_BARELY_PROCESS = array('cite thesis', 'cite press release', 'cite report', 'cite biorxiv');
const TEMPLATES_WE_RENAME  = array('cite arxiv', 'cite book', 'cite document', 'cite journal', 'cite web', 'cite work', 'cite article', 'cite paper', 'cite website');
const ALL_URL_TYPES = array('url', 'article-url', 'chapter-url', 'chapterurl', 'conference-url', 'conferenceurl',
                  'contribution-url', 'contributionurl', 'entry-url', 'event-url', 'eventurl', 'lay-url',
                  'layurl', 'map-url', 'mapurl', 'section-url', 'sectionurl', 'transcript-url',
                  'transcripturl', 'URL');

const AUTHOR_PARAMETERS = array(
    1  => array('surname'  , 'forename'  , 'initials'  , 'first'  , 'last'  , 'author', 
                'vauthors', 'authors', 'author-last', 'author-first',
                'surname1' , 'forename1' , 'initials1' , 'first1' , 'last1' , 'author1',  'author1-last',  'author-last1',  'author1-first',  'author-first1',
                'given', 'given1', 'author-given', 'author-given1', 'author1-given', 'author-surname1', 'author1-surname', 'author-surname'),
2=>array('surname2','forename2','initials2','first2','last2','author2','author2-last','author-last2','author2-first','author-first2','author-given2','author2-given','given2','author-surname2','author2-surname','coauthors','coauthor','others'),
3=>array('surname3','forename3','initials3','first3','last3','author3','author3-last','author-last3','author3-first','author-first3','author-given3','author3-given','given3','author-surname3','author3-surname'),
4=>array('surname4','forename4','initials4','first4','last4','author4','author4-last','author-last4','author4-first','author-first4','author-given4','author4-given','given4','author-surname4','author4-surname'),
5=>array('surname5','forename5','initials5','first5','last5','author5','author5-last','author-last5','author5-first','author-first5','author-given5','author5-given','given5','author-surname5','author5-surname'),
6=>array('surname6','forename6','initials6','first6','last6','author6','author6-last','author-last6','author6-first','author-first6','author-given6','author6-given','given6','author-surname6','author6-surname'),
7=>array('surname7','forename7','initials7','first7','last7','author7','author7-last','author-last7','author7-first','author-first7','author-given7','author7-given','given7','author-surname7','author7-surname'),
8=>array('surname8','forename8','initials8','first8','last8','author8','author8-last','author-last8','author8-first','author-first8','author-given8','author8-given','given8','author-surname8','author8-surname'),
9=>array('surname9','forename9','initials9','first9','last9','author9','author9-last','author-last9','author9-first','author-first9','author-given9','author9-given','given9','author-surname9','author9-surname'),
10=>array('surname10','forename10','initials10','first10','last10','author10','author10-last','author-last10','author10-first','author-first10','author-given10','author10-given','given10','author-surname10','author10-surname'),
11=>array('surname11','forename11','initials11','first11','last11','author11','author11-last','author-last11','author11-first','author-first11','author-given11','author11-given','given11','author-surname11','author11-surname'),
12=>array('surname12','forename12','initials12','first12','last12','author12','author12-last','author-last12','author12-first','author-first12','author-given12','author12-given','given12','author-surname12','author12-surname'),
13=>array('surname13','forename13','initials13','first13','last13','author13','author13-last','author-last13','author13-first','author-first13','author-given13','author13-given','given13','author-surname13','author13-surname'),
14=>array('surname14','forename14','initials14','first14','last14','author14','author14-last','author-last14','author14-first','author-first14','author-given14','author14-given','given14','author-surname14','author14-surname'),
15=>array('surname15','forename15','initials15','first15','last15','author15','author15-last','author-last15','author15-first','author-first15','author-given15','author15-given','given15','author-surname15','author15-surname'),
16=>array('surname16','forename16','initials16','first16','last16','author16','author16-last','author-last16','author16-first','author-first16','author-given16','author16-given','given16','author-surname16','author16-surname'),
17=>array('surname17','forename17','initials17','first17','last17','author17','author17-last','author-last17','author17-first','author-first17','author-given17','author17-given','given17','author-surname17','author17-surname'),
18=>array('surname18','forename18','initials18','first18','last18','author18','author18-last','author-last18','author18-first','author-first18','author-given18','author18-given','given18','author-surname18','author18-surname'),
19=>array('surname19','forename19','initials19','first19','last19','author19','author19-last','author-last19','author19-first','author-first19','author-given19','author19-given','given19','author-surname19','author19-surname'),
20=>array('surname20','forename20','initials20','first20','last20','author20','author20-last','author-last20','author20-first','author-first20','author-given20','author20-given','given20','author-surname20','author20-surname'),
21=>array('surname21','forename21','initials21','first21','last21','author21','author21-last','author-last21','author21-first','author-first21','author-given21','author21-given','given21','author-surname21','author21-surname'),
22=>array('surname22','forename22','initials22','first22','last22','author22','author22-last','author-last22','author22-first','author-first22','author-given22','author22-given','given22','author-surname22','author22-surname'),
23=>array('surname23','forename23','initials23','first23','last23','author23','author23-last','author-last23','author23-first','author-first23','author-given23','author23-given','given23','author-surname23','author23-surname'),
24=>array('surname24','forename24','initials24','first24','last24','author24','author24-last','author-last24','author24-first','author-first24','author-given24','author24-given','given24','author-surname24','author24-surname'),
25=>array('surname25','forename25','initials25','first25','last25','author25','author25-last','author-last25','author25-first','author-first25','author-given25','author25-given','given25','author-surname25','author25-surname'),
26=>array('surname26','forename26','initials26','first26','last26','author26','author26-last','author-last26','author26-first','author-first26','author-given26','author26-given','given26','author-surname26','author26-surname'),
27=>array('surname27','forename27','initials27','first27','last27','author27','author27-last','author-last27','author27-first','author-first27','author-given27','author27-given','given27','author-surname27','author27-surname'),
28=>array('surname28','forename28','initials28','first28','last28','author28','author28-last','author-last28','author28-first','author-first28','author-given28','author28-given','given28','author-surname28','author28-surname'),
29=>array('surname29','forename29','initials29','first29','last29','author29','author29-last','author-last29','author29-first','author-first29','author-given29','author29-given','given29','author-surname29','author29-surname'),
30=>array('surname30','forename30','initials30','first30','last30','author30','author30-last','author-last30','author30-first','author-first30','author-given30','author30-given','given30','author-surname30','author30-surname'),
31=>array('surname31','forename31','initials31','first31','last31','author31','author31-last','author-last31','author31-first','author-first31','author-given31','author31-given','given31','author-surname31','author31-surname'),
32=>array('surname32','forename32','initials32','first32','last32','author32','author32-last','author-last32','author32-first','author-first32','author-given32','author32-given','given32','author-surname32','author32-surname'),
33=>array('surname33','forename33','initials33','first33','last33','author33','author33-last','author-last33','author33-first','author-first33','author-given33','author33-given','given33','author-surname33','author33-surname'),
34=>array('surname34','forename34','initials34','first34','last34','author34','author34-last','author-last34','author34-first','author-first34','author-given34','author34-given','given34','author-surname34','author34-surname'),
35=>array('surname35','forename35','initials35','first35','last35','author35','author35-last','author-last35','author35-first','author-first35','author-given35','author35-given','given35','author-surname35','author35-surname'),
36=>array('surname36','forename36','initials36','first36','last36','author36','author36-last','author-last36','author36-first','author-first36','author-given36','author36-given','given36','author-surname36','author36-surname'),
37=>array('surname37','forename37','initials37','first37','last37','author37','author37-last','author-last37','author37-first','author-first37','author-given37','author37-given','given37','author-surname37','author37-surname'),
38=>array('surname38','forename38','initials38','first38','last38','author38','author38-last','author-last38','author38-first','author-first38','author-given38','author38-given','given38','author-surname38','author38-surname'),
39=>array('surname39','forename39','initials39','first39','last39','author39','author39-last','author-last39','author39-first','author-first39','author-given39','author39-given','given39','author-surname39','author39-surname'),
40=>array('surname40','forename40','initials40','first40','last40','author40','author40-last','author-last40','author40-first','author-first40','author-given40','author40-given','given40','author-surname40','author40-surname'),
41=>array('surname41','forename41','initials41','first41','last41','author41','author41-last','author-last41','author41-first','author-first41','author-given41','author41-given','given41','author-surname41','author41-surname'),
42=>array('surname42','forename42','initials42','first42','last42','author42','author42-last','author-last42','author42-first','author-first42','author-given42','author42-given','given42','author-surname42','author42-surname'),
43=>array('surname43','forename43','initials43','first43','last43','author43','author43-last','author-last43','author43-first','author-first43','author-given43','author43-given','given43','author-surname43','author43-surname'),
44=>array('surname44','forename44','initials44','first44','last44','author44','author44-last','author-last44','author44-first','author-first44','author-given44','author44-given','given44','author-surname44','author44-surname'),
45=>array('surname45','forename45','initials45','first45','last45','author45','author45-last','author-last45','author45-first','author-first45','author-given45','author45-given','given45','author-surname45','author45-surname'),
46=>array('surname46','forename46','initials46','first46','last46','author46','author46-last','author-last46','author46-first','author-first46','author-given46','author46-given','given46','author-surname46','author46-surname'),
47=>array('surname47','forename47','initials47','first47','last47','author47','author47-last','author-last47','author47-first','author-first47','author-given47','author47-given','given47','author-surname47','author47-surname'),
48=>array('surname48','forename48','initials48','first48','last48','author48','author48-last','author-last48','author48-first','author-first48','author-given48','author48-given','given48','author-surname48','author48-surname'),
49=>array('surname49','forename49','initials49','first49','last49','author49','author49-last','author-last49','author49-first','author-first49','author-given49','author49-given','given49','author-surname49','author49-surname'),
50=>array('surname50','forename50','initials50','first50','last50','author50','author50-last','author-last50','author50-first','author-first50','author-given50','author50-given','given50','author-surname50','author50-surname'),
51=>array('surname51','forename51','initials51','first51','last51','author51','author51-last','author-last51','author51-first','author-first51','author-given51','author51-given','given51','author-surname51','author51-surname'),
52=>array('surname52','forename52','initials52','first52','last52','author52','author52-last','author-last52','author52-first','author-first52','author-given52','author52-given','given52','author-surname52','author52-surname'),
53=>array('surname53','forename53','initials53','first53','last53','author53','author53-last','author-last53','author53-first','author-first53','author-given53','author53-given','given53','author-surname53','author53-surname'),
54=>array('surname54','forename54','initials54','first54','last54','author54','author54-last','author-last54','author54-first','author-first54','author-given54','author54-given','given54','author-surname54','author54-surname'),
55=>array('surname55','forename55','initials55','first55','last55','author55','author55-last','author-last55','author55-first','author-first55','author-given55','author55-given','given55','author-surname55','author55-surname'),
56=>array('surname56','forename56','initials56','first56','last56','author56','author56-last','author-last56','author56-first','author-first56','author-given56','author56-given','given56','author-surname56','author56-surname'),
57=>array('surname57','forename57','initials57','first57','last57','author57','author57-last','author-last57','author57-first','author-first57','author-given57','author57-given','given57','author-surname57','author57-surname'),
58=>array('surname58','forename58','initials58','first58','last58','author58','author58-last','author-last58','author58-first','author-first58','author-given58','author58-given','given58','author-surname58','author58-surname'),
59=>array('surname59','forename59','initials59','first59','last59','author59','author59-last','author-last59','author59-first','author-first59','author-given59','author59-given','given59','author-surname59','author59-surname'),
60=>array('surname60','forename60','initials60','first60','last60','author60','author60-last','author-last60','author60-first','author-first60','author-given60','author60-given','given60','author-surname60','author60-surname'),
61=>array('surname61','forename61','initials61','first61','last61','author61','author61-last','author-last61','author61-first','author-first61','author-given61','author61-given','given61','author-surname61','author61-surname'),
62=>array('surname62','forename62','initials62','first62','last62','author62','author62-last','author-last62','author62-first','author-first62','author-given62','author62-given','given62','author-surname62','author62-surname'),
63=>array('surname63','forename63','initials63','first63','last63','author63','author63-last','author-last63','author63-first','author-first63','author-given63','author63-given','given63','author-surname63','author63-surname'),
64=>array('surname64','forename64','initials64','first64','last64','author64','author64-last','author-last64','author64-first','author-first64','author-given64','author64-given','given64','author-surname64','author64-surname'),
65=>array('surname65','forename65','initials65','first65','last65','author65','author65-last','author-last65','author65-first','author-first65','author-given65','author65-given','given65','author-surname65','author65-surname'),
66=>array('surname66','forename66','initials66','first66','last66','author66','author66-last','author-last66','author66-first','author-first66','author-given66','author66-given','given66','author-surname66','author66-surname'),
67=>array('surname67','forename67','initials67','first67','last67','author67','author67-last','author-last67','author67-first','author-first67','author-given67','author67-given','given67','author-surname67','author67-surname'),
68=>array('surname68','forename68','initials68','first68','last68','author68','author68-last','author-last68','author68-first','author-first68','author-given68','author68-given','given68','author-surname68','author68-surname'),
69=>array('surname69','forename69','initials69','first69','last69','author69','author69-last','author-last69','author69-first','author-first69','author-given69','author69-given','given69','author-surname69','author69-surname'),
70=>array('surname70','forename70','initials70','first70','last70','author70','author70-last','author-last70','author70-first','author-first70','author-given70','author70-given','given70','author-surname70','author70-surname'),
71=>array('surname71','forename71','initials71','first71','last71','author71','author71-last','author-last71','author71-first','author-first71','author-given71','author71-given','given71','author-surname71','author71-surname'),
72=>array('surname72','forename72','initials72','first72','last72','author72','author72-last','author-last72','author72-first','author-first72','author-given72','author72-given','given72','author-surname72','author72-surname'),
73=>array('surname73','forename73','initials73','first73','last73','author73','author73-last','author-last73','author73-first','author-first73','author-given73','author73-given','given73','author-surname73','author73-surname'),
74=>array('surname74','forename74','initials74','first74','last74','author74','author74-last','author-last74','author74-first','author-first74','author-given74','author74-given','given74','author-surname74','author74-surname'),
75=>array('surname75','forename75','initials75','first75','last75','author75','author75-last','author-last75','author75-first','author-first75','author-given75','author75-given','given75','author-surname75','author75-surname'),
76=>array('surname76','forename76','initials76','first76','last76','author76','author76-last','author-last76','author76-first','author-first76','author-given76','author76-given','given76','author-surname76','author76-surname'),
77=>array('surname77','forename77','initials77','first77','last77','author77','author77-last','author-last77','author77-first','author-first77','author-given77','author77-given','given77','author-surname77','author77-surname'),
78=>array('surname78','forename78','initials78','first78','last78','author78','author78-last','author-last78','author78-first','author-first78','author-given78','author78-given','given78','author-surname78','author78-surname'),
79=>array('surname79','forename79','initials79','first79','last79','author79','author79-last','author-last79','author79-first','author-first79','author-given79','author79-given','given79','author-surname79','author79-surname'),
80=>array('surname80','forename80','initials80','first80','last80','author80','author80-last','author-last80','author80-first','author-first80','author-given80','author80-given','given80','author-surname80','author80-surname'),
81=>array('surname81','forename81','initials81','first81','last81','author81','author81-last','author-last81','author81-first','author-first81','author-given81','author81-given','given81','author-surname81','author81-surname'),
82=>array('surname82','forename82','initials82','first82','last82','author82','author82-last','author-last82','author82-first','author-first82','author-given82','author82-given','given82','author-surname82','author82-surname'),
83=>array('surname83','forename83','initials83','first83','last83','author83','author83-last','author-last83','author83-first','author-first83','author-given83','author83-given','given83','author-surname83','author83-surname'),
84=>array('surname84','forename84','initials84','first84','last84','author84','author84-last','author-last84','author84-first','author-first84','author-given84','author84-given','given84','author-surname84','author84-surname'),
85=>array('surname85','forename85','initials85','first85','last85','author85','author85-last','author-last85','author85-first','author-first85','author-given85','author85-given','given85','author-surname85','author85-surname'),
86=>array('surname86','forename86','initials86','first86','last86','author86','author86-last','author-last86','author86-first','author-first86','author-given86','author86-given','given86','author-surname86','author86-surname'),
87=>array('surname87','forename87','initials87','first87','last87','author87','author87-last','author-last87','author87-first','author-first87','author-given87','author87-given','given87','author-surname87','author87-surname'),
88=>array('surname88','forename88','initials88','first88','last88','author88','author88-last','author-last88','author88-first','author-first88','author-given88','author88-given','given88','author-surname88','author88-surname'),
89=>array('surname89','forename89','initials89','first89','last89','author89','author89-last','author-last89','author89-first','author-first89','author-given89','author89-given','given89','author-surname89','author89-surname'),
90=>array('surname90','forename90','initials90','first90','last90','author90','author90-last','author-last90','author90-first','author-first90','author-given90','author90-given','given90','author-surname90','author90-surname'),
91=>array('surname91','forename91','initials91','first91','last91','author91','author91-last','author-last91','author91-first','author-first91','author-given91','author91-given','given91','author-surname91','author91-surname'),
92=>array('surname92','forename92','initials92','first92','last92','author92','author92-last','author-last92','author92-first','author-first92','author-given92','author92-given','given92','author-surname92','author92-surname'),
93=>array('surname93','forename93','initials93','first93','last93','author93','author93-last','author-last93','author93-first','author-first93','author-given93','author93-given','given93','author-surname93','author93-surname'),
94=>array('surname94','forename94','initials94','first94','last94','author94','author94-last','author-last94','author94-first','author-first94','author-given94','author94-given','given94','author-surname94','author94-surname'),
95=>array('surname95','forename95','initials95','first95','last95','author95','author95-last','author-last95','author95-first','author-first95','author-given95','author95-given','given95','author-surname95','author95-surname'),
96=>array('surname96','forename96','initials96','first96','last96','author96','author96-last','author-last96','author96-first','author-first96','author-given96','author96-given','given96','author-surname96','author96-surname'),
97=>array('surname97','forename97','initials97','first97','last97','author97','author97-last','author-last97','author97-first','author-first97','author-given97','author97-given','given97','author-surname97','author97-surname'),
98=>array('surname98','forename98','initials98','first98','last98','author98','author98-last','author-last98','author98-first','author-first98','author-given98','author98-given','given98','author-surname98','author98-surname'),
99=>array('surname99','forename99','initials99','first99','last99','author99','author99-last','author-last99','author99-first','author-first99','author-given99','author99-given','given99','author-surname99','author99-surname')
);
const FLATTENED_AUTHOR_PARAMETERS = array('surname', 'forename', 'initials', 'others',
    'first', 'last', 'author', 'authors', 'vauthors', 'author-last', 'author-first',
    'given', 'given1', 'author-given', 'author-given1', 'author1-given', 'author-surname1', 'author1-surname', 'author-surname',
    'surname1' , 'forename1' , 'initials1' , 'first1' , 'last1' , 'author1' , 'author1-last',  'author-last1',  'author1-first',  'author-first1',
'surname2','forename2','initials2','first2','last2','author2','author2-last','author-last2','author2-first','author-first2','author-given2','author2-given','given2','author-surname2','author2-surname','coauthors','coauthor',
'surname3','forename3','initials3','first3','last3','author3','author3-last','author-last3','author3-first','author-first3','author-given3','author3-given','given3','author-surname3','author3-surname',
'surname4','forename4','initials4','first4','last4','author4','author4-last','author-last4','author4-first','author-first4','author-given4','author4-given','given4','author-surname4','author4-surname',
'surname5','forename5','initials5','first5','last5','author5','author5-last','author-last5','author5-first','author-first5','author-given5','author5-given','given5','author-surname5','author5-surname',
'surname6','forename6','initials6','first6','last6','author6','author6-last','author-last6','author6-first','author-first6','author-given6','author6-given','given6','author-surname6','author6-surname',
'surname7','forename7','initials7','first7','last7','author7','author7-last','author-last7','author7-first','author-first7','author-given7','author7-given','given7','author-surname7','author7-surname',
'surname8','forename8','initials8','first8','last8','author8','author8-last','author-last8','author8-first','author-first8','author-given8','author8-given','given8','author-surname8','author8-surname',
'surname9','forename9','initials9','first9','last9','author9','author9-last','author-last9','author9-first','author-first9','author-given9','author9-given','given9','author-surname9','author9-surname',
'surname10','forename10','initials10','first10','last10','author10','author10-last','author-last10','author10-first','author-first10','author-given10','author10-given','given10','author-surname10','author10-surname',
'surname11','forename11','initials11','first11','last11','author11','author11-last','author-last11','author11-first','author-first11','author-given11','author11-given','given11','author-surname11','author11-surname',
'surname12','forename12','initials12','first12','last12','author12','author12-last','author-last12','author12-first','author-first12','author-given12','author12-given','given12','author-surname12','author12-surname',
'surname13','forename13','initials13','first13','last13','author13','author13-last','author-last13','author13-first','author-first13','author-given13','author13-given','given13','author-surname13','author13-surname',
'surname14','forename14','initials14','first14','last14','author14','author14-last','author-last14','author14-first','author-first14','author-given14','author14-given','given14','author-surname14','author14-surname',
'surname15','forename15','initials15','first15','last15','author15','author15-last','author-last15','author15-first','author-first15','author-given15','author15-given','given15','author-surname15','author15-surname',
'surname16','forename16','initials16','first16','last16','author16','author16-last','author-last16','author16-first','author-first16','author-given16','author16-given','given16','author-surname16','author16-surname',
'surname17','forename17','initials17','first17','last17','author17','author17-last','author-last17','author17-first','author-first17','author-given17','author17-given','given17','author-surname17','author17-surname',
'surname18','forename18','initials18','first18','last18','author18','author18-last','author-last18','author18-first','author-first18','author-given18','author18-given','given18','author-surname18','author18-surname',
'surname19','forename19','initials19','first19','last19','author19','author19-last','author-last19','author19-first','author-first19','author-given19','author19-given','given19','author-surname19','author19-surname',
'surname20','forename20','initials20','first20','last20','author20','author20-last','author-last20','author20-first','author-first20','author-given20','author20-given','given20','author-surname20','author20-surname',
'surname21','forename21','initials21','first21','last21','author21','author21-last','author-last21','author21-first','author-first21','author-given21','author21-given','given21','author-surname21','author21-surname',
'surname22','forename22','initials22','first22','last22','author22','author22-last','author-last22','author22-first','author-first22','author-given22','author22-given','given22','author-surname22','author22-surname',
'surname23','forename23','initials23','first23','last23','author23','author23-last','author-last23','author23-first','author-first23','author-given23','author23-given','given23','author-surname23','author23-surname',
'surname24','forename24','initials24','first24','last24','author24','author24-last','author-last24','author24-first','author-first24','author-given24','author24-given','given24','author-surname24','author24-surname',
'surname25','forename25','initials25','first25','last25','author25','author25-last','author-last25','author25-first','author-first25','author-given25','author25-given','given25','author-surname25','author25-surname',
'surname26','forename26','initials26','first26','last26','author26','author26-last','author-last26','author26-first','author-first26','author-given26','author26-given','given26','author-surname26','author26-surname',
'surname27','forename27','initials27','first27','last27','author27','author27-last','author-last27','author27-first','author-first27','author-given27','author27-given','given27','author-surname27','author27-surname',
'surname28','forename28','initials28','first28','last28','author28','author28-last','author-last28','author28-first','author-first28','author-given28','author28-given','given28','author-surname28','author28-surname',
'surname29','forename29','initials29','first29','last29','author29','author29-last','author-last29','author29-first','author-first29','author-given29','author29-given','given29','author-surname29','author29-surname',
'surname30','forename30','initials30','first30','last30','author30','author30-last','author-last30','author30-first','author-first30','author-given30','author30-given','given30','author-surname30','author30-surname',
'surname31','forename31','initials31','first31','last31','author31','author31-last','author-last31','author31-first','author-first31','author-given31','author31-given','given31','author-surname31','author31-surname',
'surname32','forename32','initials32','first32','last32','author32','author32-last','author-last32','author32-first','author-first32','author-given32','author32-given','given32','author-surname32','author32-surname',
'surname33','forename33','initials33','first33','last33','author33','author33-last','author-last33','author33-first','author-first33','author-given33','author33-given','given33','author-surname33','author33-surname',
'surname34','forename34','initials34','first34','last34','author34','author34-last','author-last34','author34-first','author-first34','author-given34','author34-given','given34','author-surname34','author34-surname',
'surname35','forename35','initials35','first35','last35','author35','author35-last','author-last35','author35-first','author-first35','author-given35','author35-given','given35','author-surname35','author35-surname',
'surname36','forename36','initials36','first36','last36','author36','author36-last','author-last36','author36-first','author-first36','author-given36','author36-given','given36','author-surname36','author36-surname',
'surname37','forename37','initials37','first37','last37','author37','author37-last','author-last37','author37-first','author-first37','author-given37','author37-given','given37','author-surname37','author37-surname',
'surname38','forename38','initials38','first38','last38','author38','author38-last','author-last38','author38-first','author-first38','author-given38','author38-given','given38','author-surname38','author38-surname',
'surname39','forename39','initials39','first39','last39','author39','author39-last','author-last39','author39-first','author-first39','author-given39','author39-given','given39','author-surname39','author39-surname',
'surname40','forename40','initials40','first40','last40','author40','author40-last','author-last40','author40-first','author-first40','author-given40','author40-given','given40','author-surname40','author40-surname',
'surname41','forename41','initials41','first41','last41','author41','author41-last','author-last41','author41-first','author-first41','author-given41','author41-given','given41','author-surname41','author41-surname',
'surname42','forename42','initials42','first42','last42','author42','author42-last','author-last42','author42-first','author-first42','author-given42','author42-given','given42','author-surname42','author42-surname',
'surname43','forename43','initials43','first43','last43','author43','author43-last','author-last43','author43-first','author-first43','author-given43','author43-given','given43','author-surname43','author43-surname',
'surname44','forename44','initials44','first44','last44','author44','author44-last','author-last44','author44-first','author-first44','author-given44','author44-given','given44','author-surname44','author44-surname',
'surname45','forename45','initials45','first45','last45','author45','author45-last','author-last45','author45-first','author-first45','author-given45','author45-given','given45','author-surname45','author45-surname',
'surname46','forename46','initials46','first46','last46','author46','author46-last','author-last46','author46-first','author-first46','author-given46','author46-given','given46','author-surname46','author46-surname',
'surname47','forename47','initials47','first47','last47','author47','author47-last','author-last47','author47-first','author-first47','author-given47','author47-given','given47','author-surname47','author47-surname',
'surname48','forename48','initials48','first48','last48','author48','author48-last','author-last48','author48-first','author-first48','author-given48','author48-given','given48','author-surname48','author48-surname',
'surname49','forename49','initials49','first49','last49','author49','author49-last','author-last49','author49-first','author-first49','author-given49','author49-given','given49','author-surname49','author49-surname',
'surname50','forename50','initials50','first50','last50','author50','author50-last','author-last50','author50-first','author-first50','author-given50','author50-given','given50','author-surname50','author50-surname',
'surname51','forename51','initials51','first51','last51','author51','author51-last','author-last51','author51-first','author-first51','author-given51','author51-given','given51','author-surname51','author51-surname',
'surname52','forename52','initials52','first52','last52','author52','author52-last','author-last52','author52-first','author-first52','author-given52','author52-given','given52','author-surname52','author52-surname',
'surname53','forename53','initials53','first53','last53','author53','author53-last','author-last53','author53-first','author-first53','author-given53','author53-given','given53','author-surname53','author53-surname',
'surname54','forename54','initials54','first54','last54','author54','author54-last','author-last54','author54-first','author-first54','author-given54','author54-given','given54','author-surname54','author54-surname',
'surname55','forename55','initials55','first55','last55','author55','author55-last','author-last55','author55-first','author-first55','author-given55','author55-given','given55','author-surname55','author55-surname',
'surname56','forename56','initials56','first56','last56','author56','author56-last','author-last56','author56-first','author-first56','author-given56','author56-given','given56','author-surname56','author56-surname',
'surname57','forename57','initials57','first57','last57','author57','author57-last','author-last57','author57-first','author-first57','author-given57','author57-given','given57','author-surname57','author57-surname',
'surname58','forename58','initials58','first58','last58','author58','author58-last','author-last58','author58-first','author-first58','author-given58','author58-given','given58','author-surname58','author58-surname',
'surname59','forename59','initials59','first59','last59','author59','author59-last','author-last59','author59-first','author-first59','author-given59','author59-given','given59','author-surname59','author59-surname',
'surname60','forename60','initials60','first60','last60','author60','author60-last','author-last60','author60-first','author-first60','author-given60','author60-given','given60','author-surname60','author60-surname',
'surname61','forename61','initials61','first61','last61','author61','author61-last','author-last61','author61-first','author-first61','author-given61','author61-given','given61','author-surname61','author61-surname',
'surname62','forename62','initials62','first62','last62','author62','author62-last','author-last62','author62-first','author-first62','author-given62','author62-given','given62','author-surname62','author62-surname',
'surname63','forename63','initials63','first63','last63','author63','author63-last','author-last63','author63-first','author-first63','author-given63','author63-given','given63','author-surname63','author63-surname',
'surname64','forename64','initials64','first64','last64','author64','author64-last','author-last64','author64-first','author-first64','author-given64','author64-given','given64','author-surname64','author64-surname',
'surname65','forename65','initials65','first65','last65','author65','author65-last','author-last65','author65-first','author-first65','author-given65','author65-given','given65','author-surname65','author65-surname',
'surname66','forename66','initials66','first66','last66','author66','author66-last','author-last66','author66-first','author-first66','author-given66','author66-given','given66','author-surname66','author66-surname',
'surname67','forename67','initials67','first67','last67','author67','author67-last','author-last67','author67-first','author-first67','author-given67','author67-given','given67','author-surname67','author67-surname',
'surname68','forename68','initials68','first68','last68','author68','author68-last','author-last68','author68-first','author-first68','author-given68','author68-given','given68','author-surname68','author68-surname',
'surname69','forename69','initials69','first69','last69','author69','author69-last','author-last69','author69-first','author-first69','author-given69','author69-given','given69','author-surname69','author69-surname',
'surname70','forename70','initials70','first70','last70','author70','author70-last','author-last70','author70-first','author-first70','author-given70','author70-given','given70','author-surname70','author70-surname',
'surname71','forename71','initials71','first71','last71','author71','author71-last','author-last71','author71-first','author-first71','author-given71','author71-given','given71','author-surname71','author71-surname',
'surname72','forename72','initials72','first72','last72','author72','author72-last','author-last72','author72-first','author-first72','author-given72','author72-given','given72','author-surname72','author72-surname',
'surname73','forename73','initials73','first73','last73','author73','author73-last','author-last73','author73-first','author-first73','author-given73','author73-given','given73','author-surname73','author73-surname',
'surname74','forename74','initials74','first74','last74','author74','author74-last','author-last74','author74-first','author-first74','author-given74','author74-given','given74','author-surname74','author74-surname',
'surname75','forename75','initials75','first75','last75','author75','author75-last','author-last75','author75-first','author-first75','author-given75','author75-given','given75','author-surname75','author75-surname',
'surname76','forename76','initials76','first76','last76','author76','author76-last','author-last76','author76-first','author-first76','author-given76','author76-given','given76','author-surname76','author76-surname',
'surname77','forename77','initials77','first77','last77','author77','author77-last','author-last77','author77-first','author-first77','author-given77','author77-given','given77','author-surname77','author77-surname',
'surname78','forename78','initials78','first78','last78','author78','author78-last','author-last78','author78-first','author-first78','author-given78','author78-given','given78','author-surname78','author78-surname',
'surname79','forename79','initials79','first79','last79','author79','author79-last','author-last79','author79-first','author-first79','author-given79','author79-given','given79','author-surname79','author79-surname',
'surname80','forename80','initials80','first80','last80','author80','author80-last','author-last80','author80-first','author-first80','author-given80','author80-given','given80','author-surname80','author80-surname',
'surname81','forename81','initials81','first81','last81','author81','author81-last','author-last81','author81-first','author-first81','author-given81','author81-given','given81','author-surname81','author81-surname',
'surname82','forename82','initials82','first82','last82','author82','author82-last','author-last82','author82-first','author-first82','author-given82','author82-given','given82','author-surname82','author82-surname',
'surname83','forename83','initials83','first83','last83','author83','author83-last','author-last83','author83-first','author-first83','author-given83','author83-given','given83','author-surname83','author83-surname',
'surname84','forename84','initials84','first84','last84','author84','author84-last','author-last84','author84-first','author-first84','author-given84','author84-given','given84','author-surname84','author84-surname',
'surname85','forename85','initials85','first85','last85','author85','author85-last','author-last85','author85-first','author-first85','author-given85','author85-given','given85','author-surname85','author85-surname',
'surname86','forename86','initials86','first86','last86','author86','author86-last','author-last86','author86-first','author-first86','author-given86','author86-given','given86','author-surname86','author86-surname',
'surname87','forename87','initials87','first87','last87','author87','author87-last','author-last87','author87-first','author-first87','author-given87','author87-given','given87','author-surname87','author87-surname',
'surname88','forename88','initials88','first88','last88','author88','author88-last','author-last88','author88-first','author-first88','author-given88','author88-given','given88','author-surname88','author88-surname',
'surname89','forename89','initials89','first89','last89','author89','author89-last','author-last89','author89-first','author-first89','author-given89','author89-given','given89','author-surname89','author89-surname',
'surname90','forename90','initials90','first90','last90','author90','author90-last','author-last90','author90-first','author-first90','author-given90','author90-given','given90','author-surname90','author90-surname',
'surname91','forename91','initials91','first91','last91','author91','author91-last','author-last91','author91-first','author-first91','author-given91','author91-given','given91','author-surname91','author91-surname',
'surname92','forename92','initials92','first92','last92','author92','author92-last','author-last92','author92-first','author-first92','author-given92','author92-given','given92','author-surname92','author92-surname',
'surname93','forename93','initials93','first93','last93','author93','author93-last','author-last93','author93-first','author-first93','author-given93','author93-given','given93','author-surname93','author93-surname',
'surname94','forename94','initials94','first94','last94','author94','author94-last','author-last94','author94-first','author-first94','author-given94','author94-given','given94','author-surname94','author94-surname',
'surname95','forename95','initials95','first95','last95','author95','author95-last','author-last95','author95-first','author-first95','author-given95','author95-given','given95','author-surname95','author95-surname',
'surname96','forename96','initials96','first96','last96','author96','author96-last','author-last96','author96-first','author-first96','author-given96','author96-given','given96','author-surname96','author96-surname',
'surname97','forename97','initials97','first97','last97','author97','author97-last','author-last97','author97-first','author-first97','author-given97','author97-given','given97','author-surname97','author97-surname',
'surname98','forename98','initials98','first98','last98','author98','author98-last','author-last98','author98-first','author-first98','author-given98','author98-given','given98','author-surname98','author98-surname',
'surname99','forename99','initials99','first99','last99','author99','author99-last','author-last99','author99-first','author-first99','author-given99','author99-given','given99','author-surname99','author99-surname'
);

const TITLE_LINK_ALIASES = ['title-link', 'titlelink'];
const ARXIV_ALIASES = ['arxiv', 'eprint'];
const COAUTHOR_ALIASES = ['coauthor', 'coauthors'];
const CHAPTER_ALIASES = ['chapter', 'contribution', 'article', 'entry', 'section'];
const DISPLAY_AUTHORS = ['display-authors', 'displayauthors'];
const DISPLAY_EDITORS = ['display-editors', 'displayeditors'];
const DOI_BROKEN_ALIASES = ['doi-broken', 'doi_brokendate', 'doi-broken-date', 'doi_inactivedate', 'doi-inactive-date'];
const FIRST_AUTHOR_ALIASES = ['last1', 'last', 'author', 'author1', 'vauthor', 'surname1', 'surname', 'author1-surname', 'author1-surname', 'author-surname'];
const FIRST_FORENAME_ALIASES = ['first1', 'first', 'author', 'author1', 'given', 'given1', 'author-given', 'author-given1', 'author1-given'];
const FIRST_EDITOR_ALIASES = ['editor1', 'editor', 'editor-last', 'editor1-last', 'editor-last1', 'veditor', 'editor1-surname', 'editor1-given', 'editor-surname', 'editor-given', 'editor-surname1', 'editor-given1'];
const ISSUE_ALIASES = ['issue', 'number'];
const PAGE_ALIASES = ['page', 'pages', 'pp', 'p', 'at'];
const TIME_ALIASES = ['date', 'year'];
const WORK_ALIASES = ['work', 'journal', 'newspaper', 'magazine', 'periodical', 'website', 'encyclopedia', 'encyclopaedia']; 

const ALL_ALIASES = [TITLE_LINK_ALIASES, ARXIV_ALIASES, COAUTHOR_ALIASES, CHAPTER_ALIASES,
              DISPLAY_AUTHORS, DISPLAY_EDITORS, DOI_BROKEN_ALIASES, FIRST_AUTHOR_ALIASES,
              FIRST_FORENAME_ALIASES, FIRST_EDITOR_ALIASES, ISSUE_ALIASES, PAGE_ALIASES,
              TIME_ALIASES, WORK_ALIASES, FLATTENED_AUTHOR_PARAMETERS];

// Includes many parameters usually from templates that we do not modify such as {{cite patent}}, because
// that information can also be presented using the generic {{citation}} template, which we do modify.
// This list even includes items that are no longer supported, since we need to leave fixing them to humans
// See https://en.wikipedia.org/wiki/Module:Citation/CS1/Whitelist
const PARAMETER_LIST = array(
  'ASIN', 'CITATION_BOT_PLACEHOLDER_BARE_URL', 'DOI', 'EISSN', 'HDL', 'ID', 'ISBN', 'ISBN13',
  'ISMN', 'ISSN', 'JFM', 'JSTOR', 'LCCN', 'MR', 'OCLC', 'OL', 'OSTI', 'PMC', 'PMID', 'RFC',
  'S2CID', 'SBN', 'SSRN', 'URL', 'ZBL', 'access-date', 'accessdate', 'agency', 'air-date',
  'airdate', 'archive-date', 'archive-format', 'archive-url', 'archivedate', 'archiveurl',
  'article', 'article-format', 'article-url', 'article-url-access', 'arxiv', 'asin',
  'asin-tld', 'assign', 'assign#', 'assignee', 'at', 'audio-visual', 'author', 'author#',
  'author#-first', 'author#-given', 'author#-last', 'author#-link', 'author#-mask',
  'author#-surname', 'author#link', 'author#mask', 'author-first', 'author-first#',
  'author-given', 'author-given#', 'author-last', 'author-last#', 'author-link',
  'author-link#', 'author-mask', 'author-mask#', 'author-surname', 'author-surname#',
  'authorlink', 'authorlink#', 'authormask', 'authormask#', 'authors', 'bibcode',
  'bibcode-access', 'biorxiv', 'book-title', 'booktitle', 'cartography', 'chapter',
  'chapter-format', 'chapter-url', 'chapter-url-access', 'chapterurl',
  'citation_bot_placeholder_bare_url', 'citeseerx', 'class', 'collaboration',
  'conference', 'conference-format', 'conference-url', 'conferenceurl',
  'contribution', 'contribution-format', 'contribution-url', 'contribution-url-access',
  'contributionurl', 'contributor', 'contributor#', 'contributor#-first',
  'contributor#-given', 'contributor#-last', 'contributor#-link', 'contributor#-mask',
  'contributor#-surname', 'contributor-first', 'contributor-first#', 'contributor-given',
  'contributor-given#', 'contributor-last', 'contributor-last#', 'contributor-link',
  'contributor-link#', 'contributor-mask', 'contributor-mask#', 'contributor-surname',
  'contributor-surname#', 'country', 'country-code', 'credits', 'date', 'degree',
  'department', 'description', 'df', 'dictionary', 'display-authors',
  'display-contributors', 'display-editors', 'display-interviewers',
  'display-subjects', 'display-translators', 'displayauthors', 'docket', 'doi',
  'doi-access', 'doi-broken-date', 'edition', 'editor', 'editor#', 'editor#-first',
  'editor#-given', 'editor#-last', 'editor#-link', 'editor#-mask', 'editor#-surname',
  'editor#link', 'editor-first', 'editor-first#', 'editor-given', 'editor-given#',
  'editor-last', 'editor-last#', 'editor-link', 'editor-link#', 'editor-mask',
  'editor-mask#', 'editor-surname', 'editor-surname#', 'editorlink', 'editorlink#',
  'editors', 'eissn', 'encyclopaedia', 'encyclopedia', 'entry', 'entry-format',
  'entry-url', 'entry-url-access', 'episode', 'episode-link', 'episodelink', 'eprint',
  'event', 'event-format', 'event-url', 'eventurl', 'fdate', 'first', 'first#',
  'format', 'gdate', 'given', 'given#', 'hdl', 'hdl-access', 'host', 'host#', 'id',
  'ignore-isbn-error', 'inset', 'institution', 'interviewer', 'interviewer#',
  'interviewer#-first', 'interviewer#-given', 'interviewer#-last', 'interviewer#-link',
  'interviewer#-mask', 'interviewer#-surname', 'interviewer-first', 'interviewer-first#',
  'interviewer-given', 'interviewer-given#', 'interviewer-last', 'interviewer-last#',
  'interviewer-link', 'interviewer-link#', 'interviewer-mask', 'interviewer-mask#',
  'interviewer-surname', 'interviewer-surname#', 'invent#', 'inventor', 'inventor#',
  'inventor#-first', 'inventor#-given', 'inventor#-last', 'inventor#-link',
  'inventor#-surname', 'inventor#link', 'inventor-first', 'inventor-first#',
  'inventor-given', 'inventor-given#', 'inventor-last', 'inventor-last#',
  'inventor-link', 'inventor-link#', 'inventor-surname', 'inventor-surname#',
  'inventorlink', 'inventorlink#', 'isbn', 'isbn13', 'ismn', 'issn', 'issue',
  'issue-date', 'jfm', 'journal', 'jstor', 'jstor-access', 'lang', 'language',
  'last', 'last#', 'last-author-amp', 'lastauthoramp', 'lay-date', 'lay-format',
  'lay-source', 'lay-url', 'laydate', 'laysource', 'layurl', 'lccn', 'location',
  'magazine', 'mailing-list', 'mailinglist', 'map', 'map-format', 'map-url',
  'map-url-access', 'mapurl', 'medium', 'message-id', 'minutes', 'mode', 'mr',
  'name-list-format', 'name-list-style', 'network', 'newsgroup', 'newspaper',
  'no-pp', 'no-tracking', 'nocat', 'nopp', 'number', 'oclc', 'ol', 'ol-access',
  'orig-date', 'orig-year', 'origyear', 'osti', 'osti-access', 'others', 'p',
  'page', 'pages', 'patent-number', 'people', 'periodical', 'place', 'pmc',
  'pmc-embargo-date', 'pmid', 'postscript', 'pp', 'pridate', 'pubdate',
  'publication-date', 'publication-number', 'publication-place', 'publicationdate',
  'publicationplace', 'publisher', 'quotation', 'quote', 'quote-page', 'quote-pages',
  'ref', 'rfc', 's2cid', 's2cid-access', 'sbn', 'scale', 'script-article',
  'script-chapter', 'script-contribution', 'script-entry', 'script-journal',
  'script-magazine', 'script-map', 'script-newspaper', 'script-periodical',
  'script-quote', 'script-section', 'script-title', 'script-website',
  'script-work', 'season', 'section', 'section-format', 'section-url',
  'section-url-access', 'sections', 'sectionurl', 'series', 'series-link',
  'series-no', 'series-number', 'serieslink', 'seriesno', 'seriesnumber',
  'sheet', 'sheets', 'ssrn', 'station', 'status', 'subject', 'subject#',
  'subject#-link', 'subject#-mask', 'subject#link', 'subject-link',
  'subject-link#', 'subject-mask', 'subject-mask#', 'subjectlink',
  'subjectlink#', 'surname', 'surname#', 'template-doc-demo', 'time',
  'time-caption', 'timecaption', 'title', 'title-link', 'titlelink',
  'trans-article', 'trans-chapter', 'trans-contribution', 'trans-entry',
  'trans-journal', 'trans-magazine', 'trans-map', 'trans-newspaper',
  'trans-periodical', 'trans-quote', 'trans-section', 'trans-title',
  'trans-website', 'trans-work', 'transcript', 'transcript-format',
  'transcript-url', 'transcripturl', 'translator', 'translator#',
  'translator#-first', 'translator#-given', 'translator#-last', 'translator#-link',
  'translator#-mask', 'translator#-surname', 'translator-first',
  'translator-first#', 'translator-given', 'translator-given#', 'translator-last',
  'translator-last#', 'translator-link', 'translator-link#', 'translator-mask',
  'translator-mask#', 'translator-surname', 'translator-surname#', 'type',
  'url', 'url-access', 'url-status', 'vauthors', 'veditors', 'version',
  'via', 'volume', 'website', 'work', 'year', 'zbl'
);

 const DEAD_PARAMETERS = array('PPPrefix', 'PPrefix', 'Ref', 'albumlink', 'albumtype',
     'author-format', 'author-name-separator', 'author-separator', 'authors#', 'began', 'call-sign',
     'chapter-link', 'city', 'coauthor', 'day', 'dead-url', 'deadurl',
     'editor-format', 'editor-name-separator', 'editor-separator', 'editorformat',
     'editors#', 'ended', 'in', 'interviewers', 'lay-summary', 'month', 'name-separator',
     'p-prefix', 'pp-prefix', 'program', 'registration', 'separator',
     'subscription', 'author_separator', 'coauthors', 'urldate',
     'isbn2', 'isbn3', 'isbn4', 'isbn5', 'isbn6', 'isbn7', 'deadlink', 'displayeditors',
     'doi-broken', 'doi-inactive-date', 'editormask', 'editor#mask', 'editormask#',
     'embargo', 'ignoreisbnerror', 'interviewerlink', 'interviewermask', 'no-cat',
     'notracking', 'series-separator');

